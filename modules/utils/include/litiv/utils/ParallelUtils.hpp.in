#pragma once

// compile-time master switches for GPU/SIMD/threads usage
#define HAVE_GPU_SUPPORT    0
#define HAVE_SIMD_SUPPORT   1
#define DEFAULT_NB_THREADS  1

#if HAVE_GPU_SUPPORT
#define HAVE_GLSL           @USE_GLSL@
#define HAVE_CUDA           @USE_CUDA@
#define HAVE_OPENCL         @USE_OPENCL@
#if HAVE_GLSL
#include "litiv/utils/GLUtils.hpp"
#endif //HAVE_GLSL
#if HAVE_CUDA
#include @@@@@
#endif //HAVE_CUDA
#if HAVE_OPENCL
#include @@@@@
#endif //HAVE_OPENCL
#endif //HAVE_GPU_SUPPORT
#if HAVE_SIMD_SUPPORT
#define HAVE_MMX            @USE_MMX@
#define HAVE_SSE            @USE_SSE@
#define HAVE_SSE2           @USE_SSE2@
#define HAVE_SSE3           @USE_SSE3@
#define HAVE_SSSE3          @USE_SSSE3@
#define HAVE_SSE4_1         @USE_SSE4_1@
#define HAVE_SSE4_2         @USE_SSE4_2@
#define HAVE_POPCNT         @USE_POPCNT@
#define HAVE_AVX            @USE_AVX@
#define HAVE_AVX2           @USE_AVX2@
#if defined(_MSC_VER)
#include <intrin.h>
#else //!defined(_MSC_VER)
#include <x86intrin.h>
#endif //!defined(_MSC_VER)
#endif //HAVE_SIMD_SUPPORT
#if DEFAULT_NB_THREADS<1
#error "Bad default number of threads specified."
#endif //DEFAULT_NB_THREADS<1
